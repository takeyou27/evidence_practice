import{s as x,d as y,i as k,r as Q,v as j,w as ae,e as F,b as S,h as R,j as Y,x as J,q as Ie,m as C,y as z,N as be,k as O,n as L,C as We,P as K,Q as Z,c as fe,u as ue,g as ce,a as me,T as Pe,t as ke,U as Ge,V as Be,W as qe,B as je}from"../chunks/scheduler.C7bS4WFw.js";import{S as ee,i as te,t as E,a as h,g as G,c as B,d as M,m as N,b as w,e as U}from"../chunks/index.CsJ-7GvO.js";import{g as Ve,B as ie,F as Fe,G as Qe,H as He,J as Oe,K as Te,V as Ke,L as Le,Q as _e,M as H,r as de,x as ye,N as he,S as Je,O as ze,R as Xe,v as X,U as $,W as Ze,X as $e,Y as xe,Z as et,_ as tt,$ as De,a0 as rt}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.DrsQdiqw.js";import{w as at}from"../chunks/entry.BPHPuXTn.js";import{h as ve,p as lt}from"../chunks/setTrackProxy.DjIbdjlZ.js";import{p as nt}from"../chunks/stores.KpGxB3r4.js";import{Q as st}from"../chunks/QueryViewer.CgyjebTI.js";function it(s){let e,r;return e=new Ke({props:{error:s[3]}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,l){const a={};l&8&&(a.error=t[3]),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function ot(s){let e,r=Te(s[2],s[4])+"",t,l,a,n=s[1]&&Re(s);return{c(){e=C("span"),t=z(r),l=L(),n&&n.c(),this.h()},l(i){e=R(i,"SPAN",{style:!0});var o=Y(e);t=J(o,r),l=O(o),n&&n.l(o),o.forEach(y),this.h()},h(){be(e,"color",s[5])},m(i,o){k(i,e,o),F(e,t),F(e,l),n&&n.m(e,null),a=!0},p(i,o){(!a||o&20)&&r!==(r=Te(i[2],i[4])+"")&&ae(t,r),i[1]?n?(n.p(i,o),o&2&&h(n,1)):(n=Re(i),n.c(),h(n,1),n.m(e,null)):n&&(G(),E(n,1,1,()=>{n=null}),B()),(!a||o&32)&&be(e,"color",i[5])},i(i){a||(h(n),a=!0)},o(i){E(n),a=!1},d(i){i&&y(e),n&&n.d()}}}function ft(s){let e,r,t,l,a,n="Placeholder: no data currently referenced.";return{c(){e=C("span"),r=z("["),t=z(s[0]),l=z("]"),a=C("span"),a.textContent=n,this.h()},l(i){e=R(i,"SPAN",{class:!0});var o=Y(e);r=J(o,"["),t=J(o,s[0]),l=J(o,"]"),a=R(o,"SPAN",{class:!0,"data-svelte-h":!0}),Ie(a)!=="svelte-ddarzq"&&(a.textContent=n),o.forEach(y),this.h()},h(){S(a,"class","error-msg svelte-1mb9o01"),S(e,"class","placeholder svelte-1mb9o01")},m(i,o){k(i,e,o),F(e,r),F(e,t),F(e,l),F(e,a)},p(i,o){o&1&&ae(t,i[0])},i:j,o:j,d(i){i&&y(e)}}}function Re(s){let e,r;return e=new Le({props:{description:s[1]}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,l){const a={};l&2&&(a.description=t[1]),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function ut(s){let e,r,t,l;const a=[ft,ot,it],n=[];function i(o,f){return o[0]?0:o[3]?2:1}return e=i(s),r=n[e]=a[e](s),{c(){r.c(),t=Q()},l(o){r.l(o),t=Q()},m(o,f){n[e].m(o,f),k(o,t,f),l=!0},p(o,[f]){let m=e;e=i(o),e===m?n[e].p(o,f):(G(),E(n[m],1,1,()=>{n[m]=null}),B(),r=n[e],r?r.p(o,f):(r=n[e]=a[e](o),r.c()),h(r,1),r.m(t.parentNode,t))},i(o){l||(h(r),l=!0)},o(o){E(r),l=!1},d(o){o&&y(t),n[e].d(o)}}}function ct(s,e,r){let t,l,a=j,n=()=>(a(),a=We(t,D=>r(15,l=D)),t);s.$$.on_destroy.push(()=>a());const{resolveColor:i}=Ve();let{data:o=null}=e,{row:f=0}=e,{column:m=null}=e,{value:_=null}=e,{placeholder:A=null}=e,{description:g=void 0}=e,{fmt:b=void 0}=e,P,I,V,{color:d=void 0}=e,u="",{redNegatives:c=!1}=e,T;return s.$$set=D=>{"data"in D&&r(7,o=D.data),"row"in D&&r(10,f=D.row),"column"in D&&r(8,m=D.column),"value"in D&&r(11,_=D.value),"placeholder"in D&&r(0,A=D.placeholder),"description"in D&&r(1,g=D.description),"fmt"in D&&r(12,b=D.fmt),"color"in D&&r(13,d=D.color),"redNegatives"in D&&r(9,c=D.redNegatives)},s.$$.update=()=>{var D;if(s.$$.dirty&2304&&r(8,m=m??_),s.$$.dirty&21897)try{if(r(3,V=void 0),!A)if(o){if(typeof o=="string")throw Error(`Received: data=${o}, expected: data={${o}}`);if(Array.isArray(o)||r(7,o=[o]),isNaN(f))throw Error("row must be a number (row="+f+")");try{Object.keys(o[f])[0]}catch{throw Error("Row "+f+" does not exist in the dataset")}r(8,m=m??Object.keys(o[f])[0]),ie(o,[m]),r(14,T=Fe(o,"array"));const q=T.filter(W=>{var re;return W.type==="date"&&!(((re=o[0])==null?void 0:re[W.id])instanceof Date)}).map(W=>W.id);for(let W=0;W<q.length;W++)r(7,o=Qe(o,q[W]));r(2,I=o[f][m]),r(14,T=T.filter(W=>W.id===m)),b?r(4,P=He(b,(D=T[0].format)==null?void 0:D.valueType)):r(4,P=T[0].format)}else throw Error("No data provided. If you referenced a query result, check that the name is correct.")}catch(q){if(r(3,V=q.message),console.error("\x1B[31m%s\x1B[0m",`Error in Value: ${V}`),Oe)throw V}s.$$.dirty&2304&&_&&m&&console.warn('Both "value" and "column" were supplied as props to Value. "value" will be ignored.'),s.$$.dirty&8192&&n(r(6,t=i(d))),s.$$.dirty&512&&r(9,c=c==="true"||c===!0),s.$$.dirty&33284&&(c||l)&&(c&&I<0?r(5,u="rgb(220 38 38)"):l&&r(5,u=l))},[A,g,I,V,P,u,t,o,m,c,f,_,b,d,T,l]}class mt extends ee{constructor(e){super(),te(this,e,ct,ut,x,{data:7,row:10,column:8,value:11,placeholder:0,description:1,fmt:12,color:13,redNegatives:9})}}function _t(s){let e;const r=s[7].default,t=fe(r,s,s[8],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,a){t&&t.m(l,a),e=!0},p(l,a){t&&t.p&&(!e||a&256)&&ue(t,r,l,l[8],e?me(r,l[8],a,null):ce(l[8]),null)},i(l){e||(h(t,l),e=!0)},o(l){E(t,l),e=!1},d(l){t&&t.d(l)}}}function dt(s){let e,r;const t=[s[4],{data:H.isQuery(s[11])?Array.from(s[11]):s[11]}];let l={$$slots:{default:[_t]},$$scope:{ctx:s}};for(let a=0;a<t.length;a+=1)l=K(l,t[a]);return e=new mt({props:l}),{c(){U(e.$$.fragment)},l(a){w(e.$$.fragment,a)},m(a,n){N(e,a,n),r=!0},p(a,n){const i=n&2064?de(t,[n&16&&ye(a[4]),n&2048&&{data:H.isQuery(a[11])?Array.from(a[11]):a[11]}]):{};n&256&&(i.$$scope={dirty:n,ctx:a}),e.$set(i)},i(a){r||(h(e.$$.fragment,a),r=!0)},o(a){E(e.$$.fragment,a),r=!1},d(a){M(e,a)}}}function Ce(s){let e,r;return e=new he({props:{emptyMessage:s[2],emptySet:s[1],chartType:gt,isInitial:s[3]}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,l){const a={};l&4&&(a.emptyMessage=t[2]),l&2&&(a.emptySet=t[1]),l&8&&(a.isInitial=t[3]),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function yt(s){let e,r,t=!s[4].placeholder&&Ce(s);return{c(){e=C("span"),t&&t.c(),this.h()},l(l){e=R(l,"SPAN",{slot:!0});var a=Y(e);t&&t.l(a),a.forEach(y),this.h()},h(){S(e,"slot","empty")},m(l,a){k(l,e,a),t&&t.m(e,null),r=!0},p(l,a){l[4].placeholder?t&&(G(),E(t,1,1,()=>{t=null}),B()):t?(t.p(l,a),a&16&&h(t,1)):(t=Ce(l),t.c(),h(t,1),t.m(e,null))},i(l){r||(h(t),r=!0)},o(l){E(t),r=!1},d(l){l&&y(e),t&&t.d()}}}function ht(s){let e,r="Loading...";return{c(){e=C("span"),e.textContent=r,this.h()},l(t){e=R(t,"SPAN",{slot:!0,class:!0,"data-svelte-h":!0}),Ie(e)!=="svelte-89gxhc"&&(e.textContent=r),this.h()},h(){S(e,"slot","skeleton"),S(e,"class","text-base-content-muted")},m(t,l){k(t,e,l)},p:j,d(t){t&&y(e)}}}function pt(s){let e,r;return e=new _e({props:{data:s[0],$$slots:{skeleton:[ht],empty:[yt],default:[dt,({loaded:t})=>({11:t}),({loaded:t})=>t?2048:0]},$$scope:{ctx:s}}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,[l]){const a={};l&1&&(a.data=t[0]),l&2334&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}let gt="Value";function At(s,e,r){let t,{$$slots:l={},$$scope:a}=e,{data:n}=e,{column:i}=e,{agg:o}=e;const f=H.isQuery(n)?n.hash:void 0;let m=(n==null?void 0:n.hash)===f,{emptySet:_=void 0}=e,{emptyMessage:A=void 0}=e;return s.$$set=g=>{r(10,e=K(K({},e),Z(g))),"data"in g&&r(0,n=g.data),"column"in g&&r(5,i=g.column),"agg"in g&&r(6,o=g.agg),"emptySet"in g&&r(1,_=g.emptySet),"emptyMessage"in g&&r(2,A=g.emptyMessage),"$$scope"in g&&r(8,a=g.$$scope)},s.$$.update=()=>{s.$$.dirty&97&&o&&r(0,n=n.groupBy(void 0).agg({[o]:{col:i,as:i}})),s.$$.dirty&1&&r(3,m=(n==null?void 0:n.hash)===f),r(4,t=Object.fromEntries(Object.entries(e).filter(([,g])=>g!==void 0)))},e=Z(e),[n,_,A,m,t,i,o,l,a]}class le extends ee{constructor(e){super(),te(this,e,At,pt,x,{data:0,column:5,agg:6,emptySet:1,emptyMessage:2})}}function St(s){let e;const r=s[6].default,t=fe(r,s,s[7],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,a){t&&t.m(l,a),e=!0},p(l,a){t&&t.p&&(!e||a&128)&&ue(t,r,l,l[7],e?me(r,l[7],a,null):ce(l[7]),null)},i(l){e||(h(t,l),e=!0)},o(l){E(t,l),e=!1},d(l){t&&t.d(l)}}}function Et(s){let e,r;const t=[s[4],{data:H.isQuery(s[10])?Array.from(s[10]):s[10]},{queryID:s[5]}];let l={$$slots:{default:[St]},$$scope:{ctx:s}};for(let a=0;a<t.length;a+=1)l=K(l,t[a]);return e=new Je({props:l}),{c(){U(e.$$.fragment)},l(a){w(e.$$.fragment,a)},m(a,n){N(e,a,n),r=!0},p(a,n){const i=n&1072?de(t,[n&16&&ye(a[4]),n&1024&&{data:H.isQuery(a[10])?Array.from(a[10]):a[10]},n&32&&{queryID:a[5]}]):{};n&128&&(i.$$scope={dirty:n,ctx:a}),e.$set(i)},i(a){r||(h(e.$$.fragment,a),r=!0)},o(a){E(e.$$.fragment,a),r=!1},d(a){M(e,a)}}}function bt(s){let e,r;return e=new he({props:{slot:"empty",emptyMessage:s[2],emptySet:s[1],chartType:s[4].chartType,isInitial:s[3]}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,l){const a={};l&4&&(a.emptyMessage=t[2]),l&2&&(a.emptySet=t[1]),l&16&&(a.chartType=t[4].chartType),l&8&&(a.isInitial=t[3]),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function kt(s){let e,r;return e=new ze({props:{slot:"error",title:Dt,error:s[10].error.message}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,l){const a={};l&1024&&(a.error=t[10].error.message),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function Tt(s){let e,r;return e=new _e({props:{data:s[0],$$slots:{error:[kt,({loaded:t})=>({10:t}),({loaded:t})=>t?1024:0],empty:[bt],default:[Et,({loaded:t})=>({10:t}),({loaded:t})=>t?1024:0]},$$scope:{ctx:s}}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,[l]){const a={};l&1&&(a.data=t[0]),l&1182&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}let Dt="Sparkline";function vt(s,e,r){let t,{$$slots:l={},$$scope:a}=e,{data:n}=e;const i=H.isQuery(n)?n.hash:void 0;let o=(n==null?void 0:n.hash)===i,{emptySet:f=void 0}=e,{emptyMessage:m=void 0}=e,_=n==null?void 0:n.id;return s.$$set=A=>{r(9,e=K(K({},e),Z(A))),"data"in A&&r(0,n=A.data),"emptySet"in A&&r(1,f=A.emptySet),"emptyMessage"in A&&r(2,m=A.emptyMessage),"$$scope"in A&&r(7,a=A.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&r(3,o=(n==null?void 0:n.hash)===i),r(4,t={...Object.fromEntries(Object.entries(e).filter(([,A])=>A!==void 0))})},e=Z(e),[n,f,m,o,t,_,l,a]}class Rt extends ee{constructor(e){super(),te(this,e,vt,Tt,x,{data:0,emptySet:1,emptyMessage:2})}}function Ct(s){let e,r,t,l,a,n,i,o,f,m,_,A,g,b=s[23]&&Me(s);const P=[wt,Nt],I=[];function V(c,T){return c[22]?0:1}i=V(s),o=I[i]=P[i](s);let d=s[8]&&Ne(s),u=s[7]&&we(s);return{c(){e=C("p"),r=z(s[3]),t=L(),b&&b.c(),a=L(),n=C("div"),o.c(),f=L(),d&&d.c(),_=L(),u&&u.c(),A=Q(),this.h()},l(c){e=R(c,"P",{class:!0});var T=Y(e);r=J(T,s[3]),t=O(T),b&&b.l(T),T.forEach(y),a=O(c),n=R(c,"DIV",{class:!0});var D=Y(n);o.l(D),f=O(D),d&&d.l(D),D.forEach(y),_=O(c),u&&u.l(c),A=Q(),this.h()},h(){S(e,"class",l=X("text-sm align-top leading-none",s[19])),S(n,"class",m=X("relative text-xl font-medium mt-1.5",s[20]))},m(c,T){k(c,e,T),F(e,r),F(e,t),b&&b.m(e,null),k(c,a,T),k(c,n,T),I[i].m(n,null),F(n,f),d&&d.m(n,null),k(c,_,T),u&&u.m(c,T),k(c,A,T),g=!0},p(c,T){(!g||T&8)&&ae(r,c[3]),c[23]?b?(b.p(c,T),T&8388608&&h(b,1)):(b=Me(c),b.c(),h(b,1),b.m(e,null)):b&&(G(),E(b,1,1,()=>{b=null}),B()),(!g||T&524288&&l!==(l=X("text-sm align-top leading-none",c[19])))&&S(e,"class",l);let D=i;i=V(c),i===D?I[i].p(c,T):(G(),E(I[D],1,1,()=>{I[D]=null}),B(),o=I[i],o?o.p(c,T):(o=I[i]=P[i](c),o.c()),h(o,1),o.m(n,f)),c[8]?d?(d.p(c,T),T&256&&h(d,1)):(d=Ne(c),d.c(),h(d,1),d.m(n,null)):d&&(G(),E(d,1,1,()=>{d=null}),B()),(!g||T&1048576&&m!==(m=X("relative text-xl font-medium mt-1.5",c[20])))&&S(n,"class",m),c[7]?u?(u.p(c,T),T&128&&h(u,1)):(u=we(c),u.c(),h(u,1),u.m(A.parentNode,A)):u&&(G(),E(u,1,1,()=>{u=null}),B())},i(c){g||(h(b),h(o),h(d),h(u),g=!0)},o(c){E(b),E(o),E(d),E(u),g=!1},d(c){c&&(y(e),y(a),y(n),y(_),y(A)),b&&b.d(),I[i].d(),d&&d.d(),u&&u.d(c)}}}function Mt(s){let e,r;return e=new Xe({props:{inputType:"BigValue",error:s[24],width:"148",height:"28"}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,l){const a={};l&16777216&&(a.error=t[24]),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function Me(s){let e,r;return e=new Le({props:{description:s[23],size:"3"}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,l){const a={};l&8388608&&(a.description=t[23]),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function Nt(s){let e,r;return e=new le({props:{data:s[0],column:s[6],fmt:s[13]}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,l){const a={};l&1&&(a.data=t[0]),l&64&&(a.column=t[6]),l&8192&&(a.fmt=t[13]),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function wt(s){let e,r,t,l;return r=new le({props:{data:s[0],column:s[6],fmt:s[13]}}),{c(){e=C("a"),U(r.$$.fragment),this.h()},l(a){e=R(a,"A",{class:!0,href:!0});var n=Y(e);w(r.$$.fragment,n),n.forEach(y),this.h()},h(){S(e,"class","hover:bg-base-200"),S(e,"href",t=$(s[22]))},m(a,n){k(a,e,n),N(r,e,null),l=!0},p(a,n){const i={};n&1&&(i.data=a[0]),n&64&&(i.column=a[6]),n&8192&&(i.fmt=a[13]),r.$set(i),(!l||n&4194304&&t!==(t=$(a[22])))&&S(e,"href",t)},i(a){l||(h(r.$$.fragment,a),l=!0)},o(a){E(r.$$.fragment,a),l=!1},d(a){a&&y(e),M(r)}}}function Ne(s){let e,r;return e=new Rt({props:{height:"15",data:s[0],dateCol:s[8],valueCol:s[6],type:s[9],interactive:"true",color:s[25],valueFmt:s[13]??s[10],dateFmt:s[11],yScale:s[2],connectGroup:s[12]}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,l){const a={};l&1&&(a.data=t[0]),l&256&&(a.dateCol=t[8]),l&64&&(a.valueCol=t[6]),l&512&&(a.type=t[9]),l&33554432&&(a.color=t[25]),l&9216&&(a.valueFmt=t[13]??t[10]),l&2048&&(a.dateFmt=t[11]),l&4&&(a.yScale=t[2]),l&4096&&(a.connectGroup=t[12]),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function we(s){let e,r,t,l;const a=[It,Ut],n=[];function i(o,f){return o[1]?0:1}return e=i(s),r=n[e]=a[e](s),{c(){r.c(),t=Q()},l(o){r.l(o),t=Q()},m(o,f){n[e].m(o,f),k(o,t,f),l=!0},p(o,f){let m=e;e=i(o),e===m?n[e].p(o,f):(G(),E(n[m],1,1,()=>{n[m]=null}),B(),r=n[e],r?r.p(o,f):(r=n[e]=a[e](o),r.c()),h(r,1),r.m(t.parentNode,t))},i(o){l||(h(r),l=!0)},o(o){E(r),l=!1},d(o){o&&y(t),n[e].d(o)}}}function Ut(s){let e,r,t,l,a,n,i;const o=[Ft,Vt],f=[];function m(_,A){return _[22]?0:1}return r=m(s),t=f[r]=o[r](s),{c(){e=C("p"),t.c(),l=L(),a=C("span"),n=z(s[4]),this.h()},l(_){e=R(_,"P",{class:!0});var A=Y(e);t.l(A),l=O(A),a=R(A,"SPAN",{});var g=Y(a);n=J(g,s[4]),g.forEach(y),A.forEach(y),this.h()},h(){S(e,"class","text-xs font-sans /60 pt-[0.5px]")},m(_,A){k(_,e,A),f[r].m(e,null),F(e,l),F(e,a),F(a,n),i=!0},p(_,A){let g=r;r=m(_),r===g?f[r].p(_,A):(G(),E(f[g],1,1,()=>{f[g]=null}),B(),t=f[r],t?t.p(_,A):(t=f[r]=o[r](_),t.c()),h(t,1),t.m(e,l)),(!i||A&16)&&ae(n,_[4])},i(_){i||(h(t),i=!0)},o(_){E(t),i=!1},d(_){_&&y(e),f[r].d()}}}function It(s){let e,r,t,l;return r=new Ze({props:{data:s[0],column:s[7],fmt:s[14],fontClass:"text-xs",symbolPosition:"left",neutralMin:s[15],neutralMax:s[16],text:s[4],downIsGood:s[5]}}),{c(){e=C("p"),U(r.$$.fragment),this.h()},l(a){e=R(a,"P",{class:!0});var n=Y(e);w(r.$$.fragment,n),n.forEach(y),this.h()},h(){S(e,"class",t=X("text-xs font-sans mt-1",s[21]))},m(a,n){k(a,e,n),N(r,e,null),l=!0},p(a,n){const i={};n&1&&(i.data=a[0]),n&128&&(i.column=a[7]),n&16384&&(i.fmt=a[14]),n&32768&&(i.neutralMin=a[15]),n&65536&&(i.neutralMax=a[16]),n&16&&(i.text=a[4]),n&32&&(i.downIsGood=a[5]),r.$set(i),(!l||n&2097152&&t!==(t=X("text-xs font-sans mt-1",a[21])))&&S(e,"class",t)},i(a){l||(h(r.$$.fragment,a),l=!0)},o(a){E(r.$$.fragment,a),l=!1},d(a){a&&y(e),M(r)}}}function Vt(s){let e,r;return e=new le({props:{data:s[0],column:s[7],fmt:s[14]}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,l){const a={};l&1&&(a.data=t[0]),l&128&&(a.column=t[7]),l&16384&&(a.fmt=t[14]),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function Ft(s){let e,r,t,l;return r=new le({props:{data:s[0],column:s[7],fmt:s[14]}}),{c(){e=C("a"),U(r.$$.fragment),this.h()},l(a){e=R(a,"A",{class:!0,href:!0});var n=Y(e);w(r.$$.fragment,n),n.forEach(y),this.h()},h(){S(e,"class","hover:bg-base-200"),S(e,"href",t=$(s[22]))},m(a,n){k(a,e,n),N(r,e,null),l=!0},p(a,n){const i={};n&1&&(i.data=a[0]),n&128&&(i.column=a[7]),n&16384&&(i.fmt=a[14]),r.$set(i),(!l||n&4194304&&t!==(t=$(a[22])))&&S(e,"href",t)},i(a){l||(h(r.$$.fragment,a),l=!0)},o(a){E(r.$$.fragment,a),l=!1},d(a){a&&y(e),M(r)}}}function Ot(s){let e,r,t,l,a;const n=[Mt,Ct],i=[];function o(f,m){return f[24].length>0?0:1}return r=o(s),t=i[r]=n[r](s),{c(){e=C("div"),t.c(),this.h()},l(f){e=R(f,"DIV",{class:!0,style:!0});var m=Y(e);t.l(m),m.forEach(y),this.h()},h(){S(e,"class","inline-block font-sans pt-2 pb-3 pl-0 mr-3 items-center align-top"),S(e,"style",l=`
        min-width: ${s[18]};
        max-width: ${s[17]};
		`)},m(f,m){k(f,e,m),i[r].m(e,null),a=!0},p(f,[m]){let _=r;r=o(f),r===_?i[r].p(f,m):(G(),E(i[_],1,1,()=>{i[_]=null}),B(),t=i[r],t?t.p(f,m):(t=i[r]=n[r](f),t.c()),h(t,1),t.m(e,null)),(!a||m&393216&&l!==(l=`
        min-width: ${f[18]};
        max-width: ${f[17]};
		`))&&S(e,"style",l)},i(f){a||(h(t),a=!0)},o(f){E(t),a=!1},d(f){f&&y(e),i[r].d()}}}function Lt(s,e,r){let t;const{resolveColor:l}=Ve();let{data:a}=e,{value:n=null}=e,{comparison:i=null}=e,{comparisonDelta:o=!0}=e,{sparkline:f=null}=e,{sparklineType:m="line"}=e,{sparklineColor:_=void 0}=e,{sparklineValueFmt:A=void 0}=e,{sparklineDateFmt:g=void 0}=e,{sparklineYScale:b=!1}=e,{connectGroup:P=void 0}=e,{fmt:I=void 0}=e,{comparisonFmt:V=void 0}=e,{title:d=null}=e,{comparisonTitle:u=null}=e,{downIsGood:c=!1}=e,{neutralMin:T=0}=e,{neutralMax:D=0}=e,{maxWidth:q="none"}=e,{minWidth:W="18%"}=e,{titleClass:re=void 0}=e,{valueClass:pe=void 0}=e,{comparisonClass:ge=void 0}=e,{link:Ae=null}=e,{description:Se=void 0}=e,ne=[];return s.$$set=p=>{"data"in p&&r(0,a=p.data),"value"in p&&r(6,n=p.value),"comparison"in p&&r(7,i=p.comparison),"comparisonDelta"in p&&r(1,o=p.comparisonDelta),"sparkline"in p&&r(8,f=p.sparkline),"sparklineType"in p&&r(9,m=p.sparklineType),"sparklineColor"in p&&r(26,_=p.sparklineColor),"sparklineValueFmt"in p&&r(10,A=p.sparklineValueFmt),"sparklineDateFmt"in p&&r(11,g=p.sparklineDateFmt),"sparklineYScale"in p&&r(2,b=p.sparklineYScale),"connectGroup"in p&&r(12,P=p.connectGroup),"fmt"in p&&r(13,I=p.fmt),"comparisonFmt"in p&&r(14,V=p.comparisonFmt),"title"in p&&r(3,d=p.title),"comparisonTitle"in p&&r(4,u=p.comparisonTitle),"downIsGood"in p&&r(5,c=p.downIsGood),"neutralMin"in p&&r(15,T=p.neutralMin),"neutralMax"in p&&r(16,D=p.neutralMax),"maxWidth"in p&&r(17,q=p.maxWidth),"minWidth"in p&&r(18,W=p.minWidth),"titleClass"in p&&r(19,re=p.titleClass),"valueClass"in p&&r(20,pe=p.valueClass),"comparisonClass"in p&&r(21,ge=p.comparisonClass),"link"in p&&r(22,Ae=p.link),"description"in p&&r(23,Se=p.description)},s.$$.update=()=>{if(s.$$.dirty&2&&r(1,o=o==="true"||o===!0),s.$$.dirty&67108864&&r(25,t=l(_)),s.$$.dirty&4&&r(2,b=b==="true"||b===!0),s.$$.dirty&32&&r(5,c=c==="true"||c===!0),s.$$.dirty&16777689)try{Array.isArray(a)||r(0,a=[a]),ie(a,[n]);let p=Fe(a,"array"),Ee=p.find(se=>se.id===n);if(r(3,d=d??(Ee?Ee.title:null)),i!==null){ie(a,[i]);let se=p.find(Ye=>Ye.id===i);r(4,u=u??(se?se.title:null))}f!==null&&ie(a,[f])}catch(p){if(r(24,ne=[...ne,p]),Oe)throw ne}},[a,o,b,d,u,c,n,i,f,m,A,g,P,I,V,T,D,q,W,re,pe,ge,Ae,Se,ne,t,_]}let Yt=class extends ee{constructor(e){super(),te(this,e,Lt,Ot,x,{data:0,value:6,comparison:7,comparisonDelta:1,sparkline:8,sparklineType:9,sparklineColor:26,sparklineValueFmt:10,sparklineDateFmt:11,sparklineYScale:2,connectGroup:12,fmt:13,comparisonFmt:14,title:3,comparisonTitle:4,downIsGood:5,neutralMin:15,neutralMax:16,maxWidth:17,minWidth:18,titleClass:19,valueClass:20,comparisonClass:21,link:22,description:23})}};function Wt(s){let e;const r=s[6].default,t=fe(r,s,s[7],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,a){t&&t.m(l,a),e=!0},p(l,a){t&&t.p&&(!e||a&128)&&ue(t,r,l,l[7],e?me(r,l[7],a,null):ce(l[7]),null)},i(l){e||(h(t,l),e=!0)},o(l){E(t,l),e=!1},d(l){t&&t.d(l)}}}function Pt(s){let e,r;const t=[s[4],{data:H.isQuery(s[9])?Array.from(s[9]):s[9]}];let l={$$slots:{default:[Wt]},$$scope:{ctx:s}};for(let a=0;a<t.length;a+=1)l=K(l,t[a]);return e=new Yt({props:l}),{c(){U(e.$$.fragment)},l(a){w(e.$$.fragment,a)},m(a,n){N(e,a,n),r=!0},p(a,n){const i=n&528?de(t,[n&16&&ye(a[4]),n&512&&{data:H.isQuery(a[9])?Array.from(a[9]):a[9]}]):{};n&128&&(i.$$scope={dirty:n,ctx:a}),e.$set(i)},i(a){r||(h(e.$$.fragment,a),r=!0)},o(a){E(e.$$.fragment,a),r=!1},d(a){M(e,a)}}}function Gt(s){let e,r,t,l;return r=new $e({props:{error:s[9].error.message}}),{c(){e=C("div"),U(r.$$.fragment),this.h()},l(a){e=R(a,"DIV",{slot:!0,class:!0,style:!0});var n=Y(e);w(r.$$.fragment,n),n.forEach(y),this.h()},h(){S(e,"slot","error"),S(e,"class","inline-block font-sans pt-2 pb-3 pr-3 pl-0 mr-3 items-center align-top"),S(e,"style",t=`
				min-width: ${s[5].minWidth};
				max-width: ${s[5].maxWidth};
		`)},m(a,n){k(a,e,n),N(r,e,null),l=!0},p(a,n){const i={};n&512&&(i.error=a[9].error.message),r.$set(i),(!l||n&32&&t!==(t=`
				min-width: ${a[5].minWidth};
				max-width: ${a[5].maxWidth};
		`))&&S(e,"style",t)},i(a){l||(h(r.$$.fragment,a),l=!0)},o(a){E(r.$$.fragment,a),l=!1},d(a){a&&y(e),M(r)}}}function Bt(s){let e,r,t,l;return r=new he({props:{emptyMessage:s[2],emptySet:s[1],chartType:Qt,isInitial:s[3]}}),{c(){e=C("div"),U(r.$$.fragment),this.h()},l(a){e=R(a,"DIV",{slot:!0,class:!0,style:!0});var n=Y(e);w(r.$$.fragment,n),n.forEach(y),this.h()},h(){S(e,"slot","empty"),S(e,"class","inline-block font-sans pt-2 pb-3 pr-3 pl-0 mr-3 items-center align-top"),S(e,"style",t=`
				min-width: ${s[5].minWidth};
				max-width: ${s[5].maxWidth};
		`)},m(a,n){k(a,e,n),N(r,e,null),l=!0},p(a,n){const i={};n&4&&(i.emptyMessage=a[2]),n&2&&(i.emptySet=a[1]),n&8&&(i.isInitial=a[3]),r.$set(i),(!l||n&32&&t!==(t=`
				min-width: ${a[5].minWidth};
				max-width: ${a[5].maxWidth};
		`))&&S(e,"style",t)},i(a){l||(h(r.$$.fragment,a),l=!0)},o(a){E(r.$$.fragment,a),l=!1},d(a){a&&y(e),M(r)}}}function qt(s){let e,r,t=(s[5].title??" ")+"",l,a,n,i,o;return n=new le({props:{column:s[5].value,fmt:s[5].fmt,data:s[9]}}),{c(){e=C("div"),r=C("p"),l=z(t),a=L(),U(n.$$.fragment),this.h()},l(f){e=R(f,"DIV",{class:!0,style:!0,slot:!0});var m=Y(e);r=R(m,"P",{class:!0});var _=Y(r);l=J(_,t),_.forEach(y),a=O(m),w(n.$$.fragment,m),m.forEach(y),this.h()},h(){S(r,"class","text-sm"),S(e,"class","inline-block font-sans pt-2 pb-3 pr-3 pl-0 mr-3 items-center align-top"),S(e,"style",i=`
			min-width: ${s[5].minWidth};
			max-width: ${s[5].maxWidth};
		`),S(e,"slot","skeleton")},m(f,m){k(f,e,m),F(e,r),F(r,l),F(e,a),N(n,e,null),o=!0},p(f,m){(!o||m&32)&&t!==(t=(f[5].title??" ")+"")&&ae(l,t);const _={};m&32&&(_.column=f[5].value),m&32&&(_.fmt=f[5].fmt),m&512&&(_.data=f[9]),n.$set(_),(!o||m&32&&i!==(i=`
			min-width: ${f[5].minWidth};
			max-width: ${f[5].maxWidth};
		`))&&S(e,"style",i)},i(f){o||(h(n.$$.fragment,f),o=!0)},o(f){E(n.$$.fragment,f),o=!1},d(f){f&&y(e),M(n)}}}function jt(s){let e,r;return e=new _e({props:{data:s[0],$$slots:{skeleton:[qt,({loaded:t})=>({9:t}),({loaded:t})=>t?512:0],empty:[Bt],error:[Gt,({loaded:t})=>({9:t}),({loaded:t})=>t?512:0],default:[Pt,({loaded:t})=>({9:t}),({loaded:t})=>t?512:0]},$$scope:{ctx:s}}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,[l]){const a={};l&1&&(a.data=t[0]),l&702&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}let Qt="Big Value";function Ht(s,e,r){let t,{$$slots:l={},$$scope:a}=e,{data:n}=e;const i=H.isQuery(n)?n.hash:void 0;let o=(n==null?void 0:n.hash)===i,{emptySet:f=void 0}=e,{emptyMessage:m=void 0}=e;return s.$$set=_=>{r(5,e=K(K({},e),Z(_))),"data"in _&&r(0,n=_.data),"emptySet"in _&&r(1,f=_.emptySet),"emptyMessage"in _&&r(2,m=_.emptyMessage),"$$scope"in _&&r(7,a=_.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&r(3,o=(n==null?void 0:n.hash)===i),r(4,t=Object.fromEntries(Object.entries(e).filter(([,_])=>_!==void 0)))},e=Z(e),[n,f,m,o,t,e,l,a]}class oe extends ee{constructor(e){super(),te(this,e,Ht,jt,x,{data:0,emptySet:1,emptyMessage:2})}}function Kt(s){let e,r=v.title+"",t;return{c(){e=C("h1"),t=z(r),this.h()},l(l){e=R(l,"H1",{class:!0});var a=Y(e);t=J(a,r),a.forEach(y),this.h()},h(){S(e,"class","title")},m(l,a){k(l,e,a),F(e,t)},p:j,d(l){l&&y(e)}}}function Jt(s){return{c(){this.h()},l(e){this.h()},h(){document.title="Evidence"},m:j,p:j,d:j}}function zt(s){let e,r,t,l,a;return document.title=e=v.title,{c(){r=L(),t=C("meta"),l=L(),a=C("meta"),this.h()},l(n){r=O(n),t=R(n,"META",{property:!0,content:!0}),l=O(n),a=R(n,"META",{name:!0,content:!0}),this.h()},h(){var n,i;S(t,"property","og:title"),S(t,"content",((n=v.og)==null?void 0:n.title)??v.title),S(a,"name","twitter:title"),S(a,"content",((i=v.og)==null?void 0:i.title)??v.title)},m(n,i){k(n,r,i),k(n,t,i),k(n,l,i),k(n,a,i)},p(n,i){i&0&&e!==(e=v.title)&&(document.title=e)},d(n){n&&(y(r),y(t),y(l),y(a))}}}function Xt(s){var a,n;let e,r,t=(v.description||((a=v.og)==null?void 0:a.description))&&Zt(),l=((n=v.og)==null?void 0:n.image)&&$t();return{c(){t&&t.c(),e=L(),l&&l.c(),r=Q()},l(i){t&&t.l(i),e=O(i),l&&l.l(i),r=Q()},m(i,o){t&&t.m(i,o),k(i,e,o),l&&l.m(i,o),k(i,r,o)},p(i,o){var f,m;(v.description||(f=v.og)!=null&&f.description)&&t.p(i,o),(m=v.og)!=null&&m.image&&l.p(i,o)},d(i){i&&(y(e),y(r)),t&&t.d(i),l&&l.d(i)}}}function Zt(s){let e,r,t,l,a;return{c(){e=C("meta"),r=L(),t=C("meta"),l=L(),a=C("meta"),this.h()},l(n){e=R(n,"META",{name:!0,content:!0}),r=O(n),t=R(n,"META",{property:!0,content:!0}),l=O(n),a=R(n,"META",{name:!0,content:!0}),this.h()},h(){var n,i,o;S(e,"name","description"),S(e,"content",v.description??((n=v.og)==null?void 0:n.description)),S(t,"property","og:description"),S(t,"content",((i=v.og)==null?void 0:i.description)??v.description),S(a,"name","twitter:description"),S(a,"content",((o=v.og)==null?void 0:o.description)??v.description)},m(n,i){k(n,e,i),k(n,r,i),k(n,t,i),k(n,l,i),k(n,a,i)},p:j,d(n){n&&(y(e),y(r),y(t),y(l),y(a))}}}function $t(s){let e,r,t;return{c(){e=C("meta"),r=L(),t=C("meta"),this.h()},l(l){e=R(l,"META",{property:!0,content:!0}),r=O(l),t=R(l,"META",{name:!0,content:!0}),this.h()},h(){var l,a;S(e,"property","og:image"),S(e,"content",$((l=v.og)==null?void 0:l.image)),S(t,"name","twitter:image"),S(t,"content",$((a=v.og)==null?void 0:a.image))},m(l,a){k(l,e,a),k(l,r,a),k(l,t,a)},p:j,d(l){l&&(y(e),y(r),y(t))}}}function Ue(s){let e,r;return e=new st({props:{queryID:"daily_data",queryResult:s[0]}}),{c(){U(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,l){N(e,t,l),r=!0},p(t,l){const a={};l&1&&(a.queryResult=t[0]),e.$set(a)},i(t){r||(h(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}function xt(s){let e,r,t,l,a,n,i,o,f,m,_,A,g=typeof v<"u"&&v.title&&v.hide_title!==!0&&Kt();function b(u,c){return typeof v<"u"&&v.title?zt:Jt}let I=b()(s),V=typeof v=="object"&&Xt(),d=s[0]&&Ue(s);return i=new oe({props:{title:"Cost",data:s[0],value:"today_cost",fmt:"jpy0",sparkline:"today",sparklineType:"area",downIsGood:"true",comparison:"cost_growth",comparisonFmt:"pct1",comparisonTitle:"前日対比"}}),f=new oe({props:{title:"CPA",data:s[0],value:"today_cpa",fmt:"jpy0",sparkline:"today",sparklineType:"area",downIsGood:"true",comparison:"cpa_growth",comparisonFmt:"pct1",comparisonTitle:"前日対比"}}),_=new oe({props:{title:"Sales",data:s[0],value:"today_sales",fmt:"jpy0",sparkline:"today",sparklineType:"area",downIsGood:"false",comparison:"sales_growth",comparisonFmt:"pct1",comparisonTitle:"前日対比"}}),{c(){g&&g.c(),e=L(),I.c(),r=C("meta"),t=C("meta"),V&&V.c(),l=Q(),a=L(),d&&d.c(),n=L(),U(i.$$.fragment),o=L(),U(f.$$.fragment),m=L(),U(_.$$.fragment),this.h()},l(u){g&&g.l(u),e=O(u);const c=Pe("svelte-2igo1p",document.head);I.l(c),r=R(c,"META",{name:!0,content:!0}),t=R(c,"META",{name:!0,content:!0}),V&&V.l(c),l=Q(),c.forEach(y),a=O(u),d&&d.l(u),n=O(u),w(i.$$.fragment,u),o=O(u),w(f.$$.fragment,u),m=O(u),w(_.$$.fragment,u),this.h()},h(){S(r,"name","twitter:card"),S(r,"content","summary_large_image"),S(t,"name","twitter:site"),S(t,"content","@evidence_dev")},m(u,c){g&&g.m(u,c),k(u,e,c),I.m(document.head,null),F(document.head,r),F(document.head,t),V&&V.m(document.head,null),F(document.head,l),k(u,a,c),d&&d.m(u,c),k(u,n,c),N(i,u,c),k(u,o,c),N(f,u,c),k(u,m,c),N(_,u,c),A=!0},p(u,[c]){typeof v<"u"&&v.title&&v.hide_title!==!0&&g.p(u,c),I.p(u,c),typeof v=="object"&&V.p(u,c),u[0]?d?(d.p(u,c),c&1&&h(d,1)):(d=Ue(u),d.c(),h(d,1),d.m(n.parentNode,n)):d&&(G(),E(d,1,1,()=>{d=null}),B());const T={};c&1&&(T.data=u[0]),i.$set(T);const D={};c&1&&(D.data=u[0]),f.$set(D);const q={};c&1&&(q.data=u[0]),_.$set(q)},i(u){A||(h(d),h(i.$$.fragment,u),h(f.$$.fragment,u),h(_.$$.fragment,u),A=!0)},o(u){E(d),E(i.$$.fragment,u),E(f.$$.fragment,u),E(_.$$.fragment,u),A=!1},d(u){u&&(y(e),y(a),y(n),y(o),y(m)),g&&g.d(u),I.d(u),y(r),y(t),V&&V.d(u),y(l),d&&d.d(u),M(i,u),M(f,u),M(_,u)}}}const v={title:"当日データ"};function er(s,e,r){let t,l;ke(s,nt,d=>r(7,t=d)),ke(s,De,d=>r(13,l=d));let{data:a}=e,{data:n={},customFormattingSettings:i,__db:o,inputs:f}=a;Ge(De,l="d338d27fd197de5f63a0a7d138064549",l);let m=xe(at(f));Be(m.subscribe(d=>f=d)),qe(rt,{getCustomFormats:()=>i.customFormats||[]});const _=(d,u)=>lt(o.query,d,{query_name:u});et(_),t.params,je(()=>!0);let A={initialData:void 0,initialError:void 0},g=ve`SELECT
    t.report_date AS today,
    SUM(t.cost) AS today_cost,
    SUM(t.cv) AS today_cv,
    today_cost / today_cv AS today_cpa,
    SUM(t.sales) AS today_sales,
    DATE_TRUNC('month', t.report_date) AS month,
    today_cost / ANY_VALUE(y.yesterday_cost) - 1 AS cost_growth,
    today_cpa / ANY_VALUE(y.yesterday_cv) - 1 AS cpa_growth,
    today_sales / ANY_VALUE(y.yesterday_sales) - 1 AS sales_growth
  FROM
    ad_reports.ad_daily AS t
  LEFT JOIN (
    SELECT
      report_date AS yesterday,
      SUM(cost) AS yesterday_cost,
      SUM(cv) AS yesterday_cv,
      yesterday_cost / yesterday_cv AS yesterday_cpa,
      SUM(sales) AS yesterday_sales,
    FROM
      ad_reports.ad_daily
    where report_date = DATE_ADD(CURRENT_DATE, INTERVAL (-1) DAY)
    GROUP BY report_date
  ) AS y
  ON DATE_ADD(t.report_date, INTERVAL (-1) DAY) = y.yesterday
  WHERE
    t.report_date <= CURRENT_DATE
    AND t.report_date >= DATE_ADD(CURRENT_DATE, INTERVAL (-1) WEEK)
  GROUP BY t.report_date
  ORDER BY t.report_date DESC
  ;`,b=`SELECT
    t.report_date AS today,
    SUM(t.cost) AS today_cost,
    SUM(t.cv) AS today_cv,
    today_cost / today_cv AS today_cpa,
    SUM(t.sales) AS today_sales,
    DATE_TRUNC('month', t.report_date) AS month,
    today_cost / ANY_VALUE(y.yesterday_cost) - 1 AS cost_growth,
    today_cpa / ANY_VALUE(y.yesterday_cv) - 1 AS cpa_growth,
    today_sales / ANY_VALUE(y.yesterday_sales) - 1 AS sales_growth
  FROM
    ad_reports.ad_daily AS t
  LEFT JOIN (
    SELECT
      report_date AS yesterday,
      SUM(cost) AS yesterday_cost,
      SUM(cv) AS yesterday_cv,
      yesterday_cost / yesterday_cv AS yesterday_cpa,
      SUM(sales) AS yesterday_sales,
    FROM
      ad_reports.ad_daily
    where report_date = DATE_ADD(CURRENT_DATE, INTERVAL (-1) DAY)
    GROUP BY report_date
  ) AS y
  ON DATE_ADD(t.report_date, INTERVAL (-1) DAY) = y.yesterday
  WHERE
    t.report_date <= CURRENT_DATE
    AND t.report_date >= DATE_ADD(CURRENT_DATE, INTERVAL (-1) WEEK)
  GROUP BY t.report_date
  ORDER BY t.report_date DESC
  ;`;n.daily_data_data&&(n.daily_data_data instanceof Error?A.initialError=n.daily_data_data:A.initialData=n.daily_data_data,n.daily_data_columns&&(A.knownColumns=n.daily_data_columns));let P,I=!1;const V=H.createReactive({callback:d=>{r(0,P=d)},execFn:_},{id:"daily_data",...A});return V(b,{noResolve:g,...A}),globalThis[Symbol.for("daily_data")]={get value(){return P}},s.$$set=d=>{"data"in d&&r(1,a=d.data)},s.$$.update=()=>{s.$$.dirty&2&&r(2,{data:n={},customFormattingSettings:i,__db:o}=a,n),s.$$.dirty&4&&tt.set(Object.keys(n).length>0),s.$$.dirty&128&&t.params,s.$$.dirty&120&&(g||!I?g||(V(b,{noResolve:g,...A}),r(6,I=!0)):V(b,{noResolve:g}))},r(4,g=ve`SELECT
    t.report_date AS today,
    SUM(t.cost) AS today_cost,
    SUM(t.cv) AS today_cv,
    today_cost / today_cv AS today_cpa,
    SUM(t.sales) AS today_sales,
    DATE_TRUNC('month', t.report_date) AS month,
    today_cost / ANY_VALUE(y.yesterday_cost) - 1 AS cost_growth,
    today_cpa / ANY_VALUE(y.yesterday_cv) - 1 AS cpa_growth,
    today_sales / ANY_VALUE(y.yesterday_sales) - 1 AS sales_growth
  FROM
    ad_reports.ad_daily AS t
  LEFT JOIN (
    SELECT
      report_date AS yesterday,
      SUM(cost) AS yesterday_cost,
      SUM(cv) AS yesterday_cv,
      yesterday_cost / yesterday_cv AS yesterday_cpa,
      SUM(sales) AS yesterday_sales,
    FROM
      ad_reports.ad_daily
    where report_date = DATE_ADD(CURRENT_DATE, INTERVAL (-1) DAY)
    GROUP BY report_date
  ) AS y
  ON DATE_ADD(t.report_date, INTERVAL (-1) DAY) = y.yesterday
  WHERE
    t.report_date <= CURRENT_DATE
    AND t.report_date >= DATE_ADD(CURRENT_DATE, INTERVAL (-1) WEEK)
  GROUP BY t.report_date
  ORDER BY t.report_date DESC
  ;`),r(5,b=`SELECT
    t.report_date AS today,
    SUM(t.cost) AS today_cost,
    SUM(t.cv) AS today_cv,
    today_cost / today_cv AS today_cpa,
    SUM(t.sales) AS today_sales,
    DATE_TRUNC('month', t.report_date) AS month,
    today_cost / ANY_VALUE(y.yesterday_cost) - 1 AS cost_growth,
    today_cpa / ANY_VALUE(y.yesterday_cv) - 1 AS cpa_growth,
    today_sales / ANY_VALUE(y.yesterday_sales) - 1 AS sales_growth
  FROM
    ad_reports.ad_daily AS t
  LEFT JOIN (
    SELECT
      report_date AS yesterday,
      SUM(cost) AS yesterday_cost,
      SUM(cv) AS yesterday_cv,
      yesterday_cost / yesterday_cv AS yesterday_cpa,
      SUM(sales) AS yesterday_sales,
    FROM
      ad_reports.ad_daily
    where report_date = DATE_ADD(CURRENT_DATE, INTERVAL (-1) DAY)
    GROUP BY report_date
  ) AS y
  ON DATE_ADD(t.report_date, INTERVAL (-1) DAY) = y.yesterday
  WHERE
    t.report_date <= CURRENT_DATE
    AND t.report_date >= DATE_ADD(CURRENT_DATE, INTERVAL (-1) WEEK)
  GROUP BY t.report_date
  ORDER BY t.report_date DESC
  ;`),[P,a,n,A,g,b,I,t]}class fr extends ee{constructor(e){super(),te(this,e,er,xt,x,{data:1})}}export{fr as component};
